# 量子门

不同于经典门，在量子计算中，所有的门操作都是可逆的。

## X 门（非门）


X 门是一个单量子比特门，是最常用的门之一。它的矩阵形式为：

$$
\qgx = \qm{0}{1}{1}{0}
$$

因此，我们有：

$$\begin{align*}
X(\q{0}) &= \qm{0}{1}{1}{0}\qv{1}{0} = \qv{0}{1} \\ &= \q{1} \\
X(\q{1}) &= \qm{0}{1}{1}{0}\qv{0}{1} = \qv{1}{0} \\ &= \q{0}
\end{align*}$$

也就是说，X 门将 $\q{0}$ 和 $\q{1}$ 互换了，就像是经典非门一样。因此，我们也将 X 门称为量子计算中的非门。

## Hadamard 门

Hardamard 门是一个单量子比特门，也是我们在后面的章节中最常使用到的门。它的矩阵形式为：

$$
\qgh = \frac{1}{\sqrt{2}}\qm{1}{1}{1}{-1}
$$

一眼看去好像并没有什么特别。让我们运算一下：

$$\begin{align*}
H(\q{0}) &= \frac{1}{\sqrt{2}}\qm{1}{1}{1}{-1}\qv{1}{0} = \frac{1}{\sqrt{2}}(\qv{1}{0} + \qv{0}{1}) \\ &= \frac{1}{\sqrt{2}}(\q{0} + \q{1}) \\
H(\q{1}) &= \frac{1}{\sqrt{2}}\qm{1}{1}{1}{-1}\qv{0}{1} = \frac{1}{\sqrt{2}}(\qv{1}{0} - \qv{0}{1}) \\ &= \frac{1}{\sqrt{2}}(\q{0} - \q{1})
\end{align*}$$

你一定注意到了，将 $\q{0}$ 和 $\q{1}$ 分别通过 Hadamard 门之后，我们得到了两个新的态矢，对它们进行测量，我们得到 $\q{0}$ 和 $\q{1}$ 的概率都是 $50\%$。这就是 Hadamard 门的作用：将 $\q{0}$ 和 $\q{1}$ 变成等概率的叠加态，也就是创造叠加态。

由于 $1/\sqrt{2}(\q{0} + \q{1})$ 和 $1/\sqrt{2}(\q{0} - \q{1})$ 的实用性，我们将它们分别记为 $\q{+}$ 和 $\q{-}$。

这还不是最妙的。让我们对 $\q{+}$ 和 $\q{-}$ 应用 Hadamard 门：

$$\begin{align*}
H(\q{+}) &= \frac{1}{\sqrt{2}}\qm{1}{1}{1}{-1}\frac{1}{\sqrt{2}}(\qv{1}{0} + \qv{0}{1}) \\ &= \frac{1}{2}(\qv{1}{0} + \qv{0}{1} + \qv{1}{0} - \qv{0}{1}) = \qv{1}{0} \\ &= \q{0} \\
H(\q{-}) &= \frac{1}{\sqrt{2}}\qm{1}{1}{1}{-1}\frac{1}{\sqrt{2}}(\qv{1}{0} - \qv{0}{1}) \\ &= \frac{1}{2}(\qv{1}{0} + \qv{0}{1} - \qv{1}{0} + \qv{0}{1}) = \qv{0}{1} \\ &= \q{1}
\end{align*}$$

我们重新得到了 $\q{0}$ 和 $\q{1}$！Hadamard 门不仅可以创造叠加态，便于我们进行量子计算，还可以将叠加态还原回 $\q{0}$ 和 $\q{1}$，方便我们进行经典计算。因此，你将会在很多量子算法电路的开始和结束处看到 Hadamard 门。

## Z 门

Z 门是一个单量子比特门。它的矩阵形式为：

$$
\qgz = \qm{1}{0}{0}{-1}
$$

它的作用很显然，就是将 $\q{\psi} = \alpha\q{0} + \beta\q{1}$ 变成 $\q{\psi} = \alpha\q{0} - \beta\q{1}$。这并不会改变我们的测量结果。

## 受控非门

受控非门 (Controlled NOT Gate) 是一个双量子比特门。正如它的名字所示，它的作用是对第二个量子比特应用非门，条件是第一个量子比特的值为 $\q{1}$。我们通常不使用单个矩形来表示 CNOT 门，而是使用下面的形式：

@@@small:gate-cnot
\begin{quantikz}[thin lines]
    \lstick{$\ket{x_{\text{in}}}$} & \qw & \ctrl{1} & \qw &\rstick{$\ket{x_{\text{out}}}$} \qw\\
    \lstick{$\ket{y_{\text{in}}}$} & \qw & \targ{} & \qw &\rstick{$\ket{y_{\text{out}}}$} \qw
\end{quantikz}
@@@

数学上，它的矩阵形式为：

$$
\begin{bmatrix}
1 & 0 & 0 & 0 \\
0 & 1 & 0 & 0 \\
0 & 0 & 0 & 1 \\
0 & 0 & 1 & 0
\end{bmatrix}
$$
